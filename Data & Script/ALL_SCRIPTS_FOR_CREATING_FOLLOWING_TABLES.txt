CREATE TABLE APPOINTMENT 
(
  PID NUMBER NOT NULL 
, EID NUMBER NOT NULL 
, TIME VARCHAR2(30 BYTE) NOT NULL 
, TYPE VARCHAR2(40 BYTE) 
, APP_DATE DATE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE APPOINTMENT
ADD CONSTRAINT DOC_ID_FK FOREIGN KEY
(
  EID 
)
REFERENCES DOCTORS
(
  EID 
)
ENABLE;

ALTER TABLE APPOINTMENT
ADD CONSTRAINT OP_FORN_KEY FOREIGN KEY
(
  TYPE 
)
REFERENCES OPERATIONS
(
  NAME 
)
ENABLE;

ALTER TABLE APPOINTMENT
ADD CONSTRAINT PATIENT_ID_FK FOREIGN KEY
(
  PID 
)
REFERENCES PATIENT
(
  PID 
)
ENABLE;



---------------------------------------------


CREATE TABLE COMPANIES 
(
  NAME VARCHAR2(40 BYTE) NOT NULL 
, ADDRESS VARCHAR2(60 BYTE) 
, CONTACT VARCHAR2(20 BYTE) 
, WEBSITE VARCHAR2(100 BYTE) 
, CONSTRAINT COMPANIES_PK PRIMARY KEY 
  (
    NAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX COMPANIES_PK ON COMPANIES (NAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;



-----------------------------------------------------



CREATE TABLE DOCTORS 
(
  EID NUMBER NOT NULL 
, SPECIALIZATION VARCHAR2(60 BYTE) NOT NULL 
, TYPE VARCHAR2(20 BYTE) NOT NULL 
, QUALIFICATION VARCHAR2(60 BYTE) NOT NULL 
, VISIT NUMBER 
, CONSTRAINT DOCTORS_PK PRIMARY KEY 
  (
    EID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX DOCTORS_PK ON DOCTORS (EID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;


---------------------------------------------



CREATE TABLE EMPLOYEE 
(
  EID NUMBER NOT NULL 
, NAME VARCHAR2(20 BYTE) NOT NULL 
, ADDRESS VARCHAR2(50 BYTE) 
, PHONE VARCHAR2(20 BYTE) NOT NULL 
, AGE NUMBER NOT NULL 
, PROFESSION VARCHAR2(25 BYTE) NOT NULL 
, SALARY NUMBER 
, GENDER VARCHAR2(20 BYTE) 
, JOIN_DATE DATE 
, EMAIL VARCHAR2(70 BYTE) 
, DEPT VARCHAR2(200 BYTE) 
, DEGREE VARCHAR2(100 BYTE) 
, CONSTRAINT EMPLOYEE_PK PRIMARY KEY 
  (
    EID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX EMPLOYEE_PK ON EMPLOYEE (EID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;


-----------------------------------





CREATE TABLE EMPLOYEE_ASSIGN 
(
  EID NUMBER NOT NULL 
, RID NUMBER NOT NULL 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE EMPLOYEE_ASSIGN
ADD CONSTRAINT EID_FK FOREIGN KEY
(
  EID 
)
REFERENCES EMPLOYEE
(
  EID 
)
ENABLE;

ALTER TABLE EMPLOYEE_ASSIGN
ADD CONSTRAINT RID_FK FOREIGN KEY
(
  RID 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;


--------------------------------


CREATE TABLE LOGIN 
(
  EID NUMBER NOT NULL 
, USERNAME VARCHAR2(100 BYTE) NOT NULL 
, PASSWORD VARCHAR2(100 BYTE) NOT NULL 
, CONSTRAINT LOG_PK PRIMARY KEY 
  (
    USERNAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX LOG_PK ON LOGIN (USERNAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE LOGIN
ADD CONSTRAINT LOGIN_FK FOREIGN KEY
(
  EID 
)
REFERENCES EMPLOYEE
(
  EID 
)
ENABLE;




----------------------------------------------------------


CREATE TABLE MEDICINE 
(
  MNAME VARCHAR2(20 BYTE) NOT NULL 
, PRICE NUMBER NOT NULL 
, UNITS NUMBER 
, CONSTRAINT MEDICINE_PK PRIMARY KEY 
  (
    MNAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX MEDICINE_PK ON MEDICINE (MNAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;



---------------------------------------




CREATE TABLE MEDICINE 
(
  MNAME VARCHAR2(20 BYTE) NOT NULL 
, PRICE NUMBER NOT NULL 
, UNITS NUMBER 
, CONSTRAINT MEDICINE_PK PRIMARY KEY 
  (
    MNAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX MEDICINE_PK ON MEDICINE (MNAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;


---------------------------------------


CREATE TABLE OPERATIONS 
(
  NAME VARCHAR2(100 BYTE) NOT NULL 
, COST NUMBER 
, RID NUMBER 
, CONSTRAINT OPERATIONS_PK PRIMARY KEY 
  (
    NAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX OPERATIONS_PK ON OPERATIONS (NAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;




-------------------------------------




CREATE TABLE PATIENT 
(
  PID NUMBER NOT NULL 
, NAME VARCHAR2(20 BYTE) NOT NULL 
, AGE NUMBER 
, SEX VARCHAR2(20 BYTE) 
, ADDRESS VARCHAR2(55 BYTE) 
, PHONE VARCHAR2(20 BYTE) NOT NULL 
, GUARDIAN_CONTACT VARCHAR2(20 BYTE) NOT NULL 
, DATE_VISITED DATE 
, DEPT VARCHAR2(100 BYTE) 
, CONSTRAINT PATIENT_PK PRIMARY KEY 
  (
    PID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX PATIENT_PK ON PATIENT (PID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;


-------------------------------------------




CREATE TABLE PRES_TEST 
(
  PRES_ID NUMBER 
, TEST_NAME VARCHAR2(100 BYTE) 
, RULES VARCHAR2(120 BYTE) 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE PRES_TEST
ADD CONSTRAINT PRES_ID_FORN_KEY FOREIGN KEY
(
  PRES_ID 
)
REFERENCES PRESCRIPTION
(
  PRESCRIPTION_ID 
)
DISABLE;

ALTER TABLE PRES_TEST
ADD CONSTRAINT TEST_FRON_KEY FOREIGN KEY
(
  TEST_NAME 
)
REFERENCES TESTS
(
  NAME 
)
DISABLE;


-----------------------------------------



CREATE TABLE PRESCRIPTION 
(
  PRESCRIPTION_ID NUMBER NOT NULL 
, PID NUMBER NOT NULL 
, DID NUMBER NOT NULL 
, DOCTORS_COMMENT VARCHAR2(200 BYTE) 
, DATE_VISITED DATE 
, CONSTRAINT TABLE1_PK PRIMARY KEY 
  (
    PRESCRIPTION_ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX TABLE1_PK ON PRESCRIPTION (PRESCRIPTION_ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE PRESCRIPTION
ADD CONSTRAINT PRESCRIBED_BY_FK FOREIGN KEY
(
  DID 
)
REFERENCES DOCTORS
(
  EID 
)
ENABLE;

ALTER TABLE PRESCRIPTION
ADD CONSTRAINT PRES_OF_PID_FK FOREIGN KEY
(
  PID 
)
REFERENCES PATIENT
(
  PID 
)
ENABLE;


---------------------------------------------



CREATE TABLE PRESMED 
(
  PRES_ID NUMBER NOT NULL 
, DOSE VARCHAR2(25 BYTE) 
, DURATION VARCHAR2(20 BYTE) 
, MNAME VARCHAR2(100 BYTE) 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE PRESMED
ADD CONSTRAINT MNAME_FORN_KEY FOREIGN KEY
(
  MNAME 
)
REFERENCES MEDICINE
(
  MNAME 
)
DISABLE;

ALTER TABLE PRESMED
ADD CONSTRAINT PRESC_ID_FK FOREIGN KEY
(
  PRES_ID 
)
REFERENCES PRESCRIPTION
(
  PRESCRIPTION_ID 
)
DISABLE;


-------------------------------------



CREATE TABLE PURCHASE 
(
  PNO NUMBER NOT NULL 
, COMPANY VARCHAR2(35 BYTE) 
, UNITS NUMBER(20, 0) 
, ORDER_DATE DATE 
, MNAME VARCHAR2(100 BYTE) 
, DELIV_DATE DATE 
, PRICE NUMBER 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE PURCHASE
ADD CONSTRAINT BUY_MED_FORN_KEY FOREIGN KEY
(
  MNAME 
)
REFERENCES MEDICINE
(
  MNAME 
)
ENABLE;

ALTER TABLE PURCHASE
ADD CONSTRAINT COMPANY_FK FOREIGN KEY
(
  COMPANY 
)
REFERENCES COMPANIES
(
  NAME 
)
ENABLE;



-------------------------------------





CREATE TABLE ROOMS 
(
  RID NUMBER NOT NULL 
, TYPE VARCHAR2(30 BYTE) NOT NULL 
, COST NUMBER 
, DEPT VARCHAR2(70 BYTE) 
, BEDS NUMBER 
, CONSTRAINT ROOMS_PK PRIMARY KEY 
  (
    RID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX ROOMS_PK ON ROOMS (RID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;



----------------------------




CREATE TABLE STAYS 
(
  PID NUMBER NOT NULL 
, RID NUMBER NOT NULL 
, BID VARCHAR2(20 BYTE) 
, CHECK_IN DATE 
, CHECK_OUT DATE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE STAYS
ADD CONSTRAINT BOOKED_BY_PID_FK FOREIGN KEY
(
  PID 
)
REFERENCES PATIENT
(
  PID 
)
ENABLE;

ALTER TABLE STAYS
ADD CONSTRAINT STAYS_AT_RID_FK FOREIGN KEY
(
  RID 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;


---------------------------------



CREATE TABLE TEST_HISTORY 
(
  TEST_NAME VARCHAR2(50 BYTE) 
, PRES_ID NUMBER 
, TEST_DATE DATE 
, REPORT VARCHAR2(200 BYTE) 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE TEST_HISTORY
ADD CONSTRAINT TEST_NAME_FK FOREIGN KEY
(
  TEST_NAME 
)
REFERENCES TESTS
(
  NAME 
)
ENABLE;


--------------------------------




CREATE TABLE TESTS 
(
  NAME VARCHAR2(40 BYTE) NOT NULL 
, LAB_NO NUMBER(30, 0) 
, COST NUMBER(30, 0) 
, CONSTRAINT TESTS_PK PRIMARY KEY 
  (
    NAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX TESTS_PK ON TESTS (NAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE TESTS
ADD CONSTRAINT LAB_NO_FK FOREIGN KEY
(
  LAB_NO 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;

