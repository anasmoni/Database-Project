CREATE TABLE APPOINTMENT 
(
  PID NUMBER NOT NULL 
, EID NUMBER NOT NULL 
, APP_DATE VARCHAR2(30 BYTE) NOT NULL 
, TIME VARCHAR2(30 BYTE) NOT NULL 
) 

ALTER TABLE APPOINTMENT
ADD CONSTRAINT DOC_ID_FK FOREIGN KEY
(
  EID 
)
REFERENCES DOCTORS
(
  EID 
)
ENABLE;

ALTER TABLE APPOINTMENT
ADD CONSTRAINT PATIENT_ID_FK FOREIGN KEY
(
  PID 
)
REFERENCES PATIENT
(
  PID 
)
ENABLE;



CREATE TABLE COMPANIES 
(
  NAME VARCHAR2(40 BYTE) NOT NULL 
, ADDRESS VARCHAR2(60 BYTE) 
, CONTACT VARCHAR2(20 BYTE) 
, CONSTRAINT COMPANIES_PK PRIMARY KEY 
  (
    NAME 
  )
)


CREATE TABLE DOCTOR_ASSIGN 
(
  EID NUMBER NOT NULL 
, RID NUMBER 
) 



ALTER TABLE DOCTOR_ASSIGN
ADD CONSTRAINT DID_FK FOREIGN KEY
(
  EID 
)
REFERENCES DOCTORS
(
  EID 
)
ENABLE;

ALTER TABLE DOCTOR_ASSIGN
ADD CONSTRAINT DOCT_RID_FK FOREIGN KEY
(
  RID 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;



CREATE TABLE DOCTORS 
(
  EID NUMBER NOT NULL 
, SPECIALIZATION VARCHAR2(60 BYTE) NOT NULL 
, TYPE VARCHAR2(20 BYTE) NOT NULL 
, QUALIFICATION VARCHAR2(60 BYTE) NOT NULL 
, VISIT NUMBER 
, CONSTRAINT DOCTORS_PK PRIMARY KEY 
  (
    EID 
  )
  ENABLE 
) 


CREATE TABLE EMPLOYEE 
(
  EID NUMBER NOT NULL 
, NAME VARCHAR2(20 BYTE) NOT NULL 
, ADDRESS VARCHAR2(50 BYTE) 
, PHONE VARCHAR2(20 BYTE) NOT NULL 
, AGE NUMBER NOT NULL 
, PROFESSION VARCHAR2(25 BYTE) NOT NULL 
, SALLARY NUMBER 
, GENDER VARCHAR2(20 BYTE) 
, JOIN_DATE DATE 
, CONSTRAINT EMPLOYEE_PK PRIMARY KEY 
  (
    EID 
  )
  ENABLE 
) 



CREATE TABLE EMPLOYEE_ASSIGN 
(
  EID NUMBER NOT NULL 
, RID NUMBER NOT NULL 
, SHIFT VARCHAR2(20 BYTE) 
) 

ALTER TABLE EMPLOYEE_ASSIGN
ADD CONSTRAINT EID_FK FOREIGN KEY
(
  EID 
)
REFERENCES EMPLOYEE
(
  EID 
)
ENABLE;

ALTER TABLE EMPLOYEE_ASSIGN
ADD CONSTRAINT RID_FK FOREIGN KEY
(
  RID 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;





CREATE TABLE MEDICINE 
(
  MID NUMBER NOT NULL 
, MNAME VARCHAR2(20 BYTE) NOT NULL 
, UNIT_PRICE NUMBER NOT NULL 
, UNITS NUMBER 
, CONSTRAINT MEDICINE_PK PRIMARY KEY 
  (
    MID 
  )
  ENABLE 
) 



CREATE TABLE NURSE 
(
  EID NUMBER NOT NULL 
, DEPT VARCHAR2(100 BYTE) NOT NULL 
, TYPE VARCHAR2(100 BYTE) 
, CONSTRAINT NURSE_PK PRIMARY KEY 
  (
    EID 
  )
  ENABLE 
) 



CREATE TABLE NURSE_ASSIGN 
(
  EID NUMBER NOT NULL 
, RID NUMBER NOT NULL 
, SHIFT VARCHAR2(20 BYTE) NOT NULL 
) 

ALTER TABLE NURSE_ASSIGN
ADD CONSTRAINT NASS_ROOM__FK FOREIGN KEY
(
  RID 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;

ALTER TABLE NURSE_ASSIGN
ADD CONSTRAINT NURSE_ID_FK FOREIGN KEY
(
  EID 
)
REFERENCES NURSE
(
  EID 
)
ENABLE;




CREATE TABLE PATHOLOGIST 
(
  EID NUMBER NOT NULL 
, DEPT VARCHAR2(100 BYTE) 
, CONSTRAINT PATHOLOGIST_PK PRIMARY KEY 
  (
    EID 
  )
  ENABLE 
) 




CREATE TABLE PATHOLOGIST_ASSIGN 
(
  EID NUMBER NOT NULL 
, RID NUMBER NOT NULL 
) 

ALTER TABLE PATHOLOGIST_ASSIGN
ADD CONSTRAINT LAB_FK FOREIGN KEY
(
  RID 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;

ALTER TABLE PATHOLOGIST_ASSIGN
ADD CONSTRAINT PATHO_ID_FK FOREIGN KEY
(
  EID 
)
REFERENCES PATHOLOGIST
(
  EID 
)
ENABLE;





CREATE TABLE PATIENT 
(
  PID NUMBER NOT NULL 
, NAME VARCHAR2(20 BYTE) NOT NULL 
, AGE NUMBER 
, SEX VARCHAR2(20 BYTE) 
, ADDRESS VARCHAR2(55 BYTE) 
, PHONE VARCHAR2(20 BYTE) NOT NULL 
, GUARDIAN_CONTACT VARCHAR2(20 BYTE) NOT NULL 
, CONSTRAINT PATIENT_PK PRIMARY KEY 
  (
    PID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX PATIENT_PK ON PATIENT (PID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 




CREATE TABLE PRESCRIPTION 
(
  PRESCRIPTION_ID NUMBER NOT NULL 
, PID NUMBER NOT NULL 
, DID NUMBER NOT NULL 
, DATE_VISITED VARCHAR2(20 BYTE) NOT NULL 
, DOCTORS_COMMENT VARCHAR2(200 BYTE) 
, CONSTRAINT TABLE1_PK PRIMARY KEY 
  (
    PRESCRIPTION_ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX TABLE1_PK ON PRESCRIPTION (PRESCRIPTION_ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE PRESCRIPTION
ADD CONSTRAINT PRESCRIBED_BY_FK FOREIGN KEY
(
  DID 
)
REFERENCES DOCTORS
(
  EID 
)
ENABLE;

ALTER TABLE PRESCRIPTION
ADD CONSTRAINT PRES_OF_PID_FK FOREIGN KEY
(
  PID 
)
REFERENCES PATIENT
(
  PID 
)
ENABLE;







CREATE TABLE PRESMED 
(
  PID NUMBER NOT NULL 
, MID NUMBER(20, 0) NOT NULL 
, DOSE VARCHAR2(25 BYTE) 
, DURATION VARCHAR2(20 BYTE) 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE PRESMED
ADD CONSTRAINT PRESC_ID_FK FOREIGN KEY
(
  PID 
)
REFERENCES PRESCRIPTION
(
  PRESCRIPTION_ID 
)
ENABLE;

ALTER TABLE PRESMED
ADD CONSTRAINT PRESC_MED_FK FOREIGN KEY
(
  MID 
)
REFERENCES MEDICINE
(
  MID 
)
ENABLE;






CREATE TABLE PURCHASE 
(
  PNO NUMBER NOT NULL 
, MID NUMBER(20, 0) 
, COMPANY VARCHAR2(35 BYTE) 
, PURCHASE_DATE VARCHAR2(20 BYTE) 
, UNITS NUMBER(20, 0) 
, CONSTRAINT PURCHASE_PK PRIMARY KEY 
  (
    PNO 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX PURCHASE_PK ON PURCHASE (PNO ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE PURCHASE
ADD CONSTRAINT COMPANY_FK FOREIGN KEY
(
  COMPANY 
)
REFERENCES COMPANIES
(
  NAME 
)
ENABLE;

ALTER TABLE PURCHASE
ADD CONSTRAINT MEDICINE_ID_FK FOREIGN KEY
(
  MID 
)
REFERENCES MEDICINE
(
  MID 
)
ENABLE;





CREATE TABLE ROOMS 
(
  RID NUMBER NOT NULL 
, TYPE VARCHAR2(30 BYTE) NOT NULL 
, COST NUMBER 
, DEPT VARCHAR2(70 BYTE) 
, CONSTRAINT ROOMS_PK PRIMARY KEY 
  (
    RID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX ROOMS_PK ON ROOMS (RID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;






CREATE TABLE STAYS 
(
  PID NUMBER NOT NULL 
, RID NUMBER NOT NULL 
, BID VARCHAR2(20 BYTE) 
, START_DATE VARCHAR2(20 BYTE) NOT NULL 
, END_DATE VARCHAR2(20 BYTE) 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE STAYS
ADD CONSTRAINT BOOKED_BY_PID_FK FOREIGN KEY
(
  PID 
)
REFERENCES PATIENT
(
  PID 
)
ENABLE;

ALTER TABLE STAYS
ADD CONSTRAINT STAYS_AT_RID_FK FOREIGN KEY
(
  RID 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;







CREATE TABLE TEST_HISTORY 
(
  TEST_NAME VARCHAR2(50 BYTE) NOT NULL 
, PRES_ID NUMBER NOT NULL 
, TEST_DATE VARCHAR2(20 BYTE) 
, REPORT_DATE VARCHAR2(20 BYTE) 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE TEST_HISTORY
ADD CONSTRAINT PRES_ID_FK FOREIGN KEY
(
  PRES_ID 
)
REFERENCES PRESCRIPTION
(
  PRESCRIPTION_ID 
)
ENABLE;

ALTER TABLE TEST_HISTORY
ADD CONSTRAINT TEST_NAME_FK FOREIGN KEY
(
  TEST_NAME 
)
REFERENCES TESTS
(
  NAME 
)
ENABLE;








CREATE TABLE TESTS 
(
  NAME VARCHAR2(40 BYTE) NOT NULL 
, LAB_NO NUMBER(30, 0) 
, COST NUMBER(30, 0) 
, CONSTRAINT TESTS_PK PRIMARY KEY 
  (
    NAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX TESTS_PK ON TESTS (NAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE TESTS
ADD CONSTRAINT LAB_NO_FK FOREIGN KEY
(
  LAB_NO 
)
REFERENCES ROOMS
(
  RID 
)
ENABLE;


CREATE TABLE LOGIN 
(
  EID NUMBER NOT NULL 
, USERNAME VARCHAR2(100 BYTE) NOT NULL 
, PASSWORD VARCHAR2(100 BYTE) NOT NULL 
, CONSTRAINT LOG_PK PRIMARY KEY 
  (
    USERNAME 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX LOG_PK ON LOGIN (USERNAME ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NOPARALLEL;

ALTER TABLE LOGIN
ADD CONSTRAINT LOGIN_FK FOREIGN KEY
(
  EID 
)
REFERENCES EMPLOYEE
(
  EID 
)
ENABLE;





